# ============================================================================
# Fog Infrastructure - 32 nodes, 4-tier Smart Hospital topology
#
# Topology calibrated from the following recent literature:
#
# [1] Natesha, Venkategowda (2025)
#     "Service Placement in the Computing Continuum for Delay-Sensitive
#      IoT/IIoT Applications"
#     Journal of Network and Systems Management, vol. 33, art. 64, 2025
#     DOI: 10.1007/s10922-025-09964-7
#     -> 4-tier Raspberry Pi + AWS architecture, Table 2 (node config)
#
# [2] Apat, Goswami, Sahoo, Barik, Saikia (2025)
#     "Fog Service Placement Optimization: A Survey of State-of-the-Art
#      Strategies and Techniques"
#     Computers, vol. 14(3):99, 2025, DOI: 10.3390/computers14030099
#     -> Comprehensive SPP benchmark survey, Table 4 (topology parameters)
#
# [3] Aburukba, AliKarrar, Landolsi, El-Fakih (2022)
#     "A Novel Low-Latency and Energy-Efficient Task Scheduling Framework
#      for Internet of Medical Things in an Edge Fog Cloud System"
#     Sensors, vol. 22(14):5327, 2022
#     -> Config 4: 4 wards topology, Table 3 (device config)
#
# [4] Salaht, Desprez, Lebre, Prud'Homme, Abderrahim (2019)
#     "Service Placement in Fog Computing Using Constraint Programming"
#     IEEE SCC, pp. 19-27, 2019
#     -> CSP-based placement model (comparable to our CSP solver)
#
# Smart Hospital topology (4-tier):
#   Tier 0 (Cloud DC):     H0, H1         - remote datacenter (2 for HA)
#   Tier 1 (Hospital MEC): H2, H3, H4     - on-premise Medical Edge (MEC)
#   Tier 2 (Ward GW):      H5..H12        - ward-level fog gateways (8)
#   Tier 3 (Bedside):      H13..H31       - bedside sensor hubs (19)
#
#   Architecture:
#   Cloud -- [80ms] -- MEC_main(H2)
#                   \-- MEC_backup(H3)
#                   \-- MEC_icu(H4)
#   MEC -- [3ms] -- Ward_GW -- [1ms] -- Bedside_hub
#
#   4 regular wards (H5..H8, 2 beds each) + 2 ICU wards (H9,H10, 3 beds)
#   + 2 outpatient gateways (H11,H12, 2 sensors each)
# ============================================================================

hosts.nb = 32

# {CPU, RAM} per node
# Tier 0 Cloud: 64 CPU, 128GB (virtual datacenter partition)
# Tier 1 MEC:   16-32 CPU, 32-64GB (on-premise server)
# Tier 2 Ward GW: 4-8 CPU, 8-16GB (fog gateway / Raspberry Pi cluster)
# Tier 3 Bedside: 1-2 CPU, 1-2GB (bedside hub / wearable gateway)
hosts.configuration = \
{64,128000}, \
{64,128000}, \
{32,64000}, \
{16,32000}, \
{16,32000}, \
{8,16000}, \
{8,16000}, \
{4,8000}, \
{4,8000}, \
{8,16000}, \
{8,16000}, \
{4,8000}, \
{4,8000}, \
{2,2000}, \
{2,2000}, \
{1,1000}, \
{1,1000}, \
{2,2000}, \
{2,2000}, \
{1,1000}, \
{2,2000}, \
{2,2000}, \
{1,1000}, \
{1,1000}, \
{2,2000}, \
{2,2000}, \
{1,1000}, \
{1,1000}, \
{2,2000}, \
{1,1000}, \
{1,1000}, \
{2,2000}

# Cost: cloud=30, MEC=15-18, ward_gw=4-6, bedside=1-2
# Based on Gia et al. proportional resource cost model
hosts.cost = 30 30 18 15 15 6 6 4 4 6 6 4 4 1 1 1 1 2 2 1 2 2 1 1 2 2 1 1 2 1 1 2

# Network topology (bidirectional arcs)
# Latencies from Mahmud et al. TOIT 2019 Table 7:
#   Cloud <-> MEC:       80 ms (WAN)
#   MEC <-> MEC:         5 ms (LAN backbone)
#   MEC <-> Ward GW:     3 ms (hospital LAN)
#   Ward GW <-> Ward GW: 4 ms (same MEC, inter-ward)
#   Ward GW <-> Bedside: 1 ms (local wifi/BLE)
#   Bedside <-> Bedside: 1 ms (same ward gateway)
#
# Bandwidths from Gia et al. 2015 Table II:
#   Cloud <-> MEC:       10000 Mbps (WAN pipe)
#   MEC <-> MEC:          5000 Mbps (backbone)
#   MEC <-> Ward GW:      2000 Mbps (LAN)
#   Ward GW <-> Bedside:  1000 Mbps (WiFi)
#   Bedside <-> Bedside:   500 Mbps (local)
network.topology = \
{0,1,10000,5}, \
{1,0,10000,5}, \
{0,2,10000,80}, \
{2,0,10000,80}, \
{0,3,10000,80}, \
{3,0,10000,80}, \
{0,4,10000,85}, \
{4,0,10000,85}, \
{1,2,10000,80}, \
{2,1,10000,80}, \
{1,3,10000,80}, \
{3,1,10000,80}, \
{1,4,10000,85}, \
{4,1,10000,85}, \
{2,3,5000,5}, \
{3,2,5000,5}, \
{2,4,5000,5}, \
{4,2,5000,5}, \
{3,4,5000,5}, \
{4,3,5000,5}, \
{2,5,2000,3}, \
{5,2,2000,3}, \
{2,6,2000,3}, \
{6,2,2000,3}, \
{3,7,2000,3}, \
{7,3,2000,3}, \
{3,8,2000,3}, \
{8,3,2000,3}, \
{4,9,2000,3}, \
{9,4,2000,3}, \
{4,10,2000,3}, \
{10,4,2000,3}, \
{2,11,2000,3}, \
{11,2,2000,3}, \
{3,12,2000,3}, \
{12,3,2000,3}, \
{5,6,2000,4}, \
{6,5,2000,4}, \
{7,8,2000,4}, \
{8,7,2000,4}, \
{9,10,2000,4}, \
{10,9,2000,4}, \
{11,12,2000,4}, \
{12,11,2000,4}, \
{5,13,1000,1}, \
{13,5,1000,1}, \
{5,14,1000,1}, \
{14,5,1000,1}, \
{6,15,1000,1}, \
{15,6,1000,1}, \
{6,16,1000,1}, \
{16,6,1000,1}, \
{7,17,1000,1}, \
{17,7,1000,1}, \
{7,18,1000,1}, \
{18,7,1000,1}, \
{8,19,1000,1}, \
{19,8,1000,1}, \
{8,20,1000,1}, \
{20,8,1000,1}, \
{8,21,1000,1}, \
{21,8,1000,1}, \
{9,22,1000,1}, \
{22,9,1000,1}, \
{9,23,1000,1}, \
{23,9,1000,1}, \
{9,24,1000,1}, \
{24,9,1000,1}, \
{10,25,1000,1}, \
{25,10,1000,1}, \
{10,26,1000,1}, \
{26,10,1000,1}, \
{10,27,1000,1}, \
{27,10,1000,1}, \
{11,28,1000,1}, \
{28,11,1000,1}, \
{11,29,1000,1}, \
{29,11,1000,1}, \
{12,30,1000,1}, \
{30,12,1000,1}, \
{12,31,1000,1}, \
{31,12,1000,1}, \
{13,14,500,1}, \
{14,13,500,1}, \
{15,16,500,1}, \
{16,15,500,1}, \
{17,18,500,1}, \
{18,17,500,1}, \
{20,21,500,1}, \
{21,20,500,1}, \
{22,23,500,1}, \
{23,22,500,1}, \
{24,25,500,1}, \
{25,24,500,1}, \
{26,27,500,1}, \
{27,26,500,1}, \
{28,29,500,1}, \
{29,28,500,1}, \
{30,31,500,1}, \
{31,30,500,1}, \
{0,0,-1,0}, \
{1,1,-1,0}, \
{2,2,-1,0}, \
{3,3,-1,0}, \
{4,4,-1,0}, \
{5,5,-1,0}, \
{6,6,-1,0}, \
{7,7,-1,0}, \
{8,8,-1,0}, \
{9,9,-1,0}, \
{10,10,-1,0}, \
{11,11,-1,0}, \
{12,12,-1,0}, \
{13,13,-1,0}, \
{14,14,-1,0}, \
{15,15,-1,0}, \
{16,16,-1,0}, \
{17,17,-1,0}, \
{18,18,-1,0}, \
{19,19,-1,0}, \
{20,20,-1,0}, \
{21,21,-1,0}, \
{22,22,-1,0}, \
{23,23,-1,0}, \
{24,24,-1,0}, \
{25,25,-1,0}, \
{26,26,-1,0}, \
{27,27,-1,0}, \
{28,28,-1,0}, \
{29,29,-1,0}, \
{30,30,-1,0}, \
{31,31,-1,0}

edges.nb = 132

# Diameter: Bedside(H13) -> WardGW(H5) -> MEC(H2) -> Cloud(H0) -> Cloud(H1) -> MEC(H4) -> WardGW(H10) -> Bedside(H27)
# = 1 + 3 + 80 + 5 + 85 + 3 + 1 = 178ms (7 hops)
network.diameter = 7
