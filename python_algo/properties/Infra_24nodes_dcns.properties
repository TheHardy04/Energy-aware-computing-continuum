# ============================================================================
# Fog Infrastructure - 24 nodes, 4-tier topology
# DCNS Intelligent Surveillance scenario
#
# Topology calibrated from recent literature:
#
# [1] Taleb, Salaht, Arcangeli, Desprez (2025)
#     "A Survey on Services Placement Algorithms in Integrated
#      Cloud-Fog / Edge Computing"
#     ACM Computing Surveys, vol. 57(11):271, June 2025
#     DOI: 10.1145/3729214
#     -> Comprehensive SPP taxonomy, Fig. 5 (4-tier topology model)
#
# [2] Potu, Jatoth, Parvataneni (2022)
#     "Energy efficient service placement in fog computing"
#     PeerJ Computer Science, 8:e1035, 2022
#     -> ISDCN app on iFogSim, Table 2 (fog device config), Fig. 3
#
# [3] Gupta, Dastjerdi, Ghosh, Buyya (2017)
#     "iFogSim: A Toolkit for Modeling and Simulation..."
#     Software: Practice and Experience, vol. 47(9):1275-1296, 2017
#     -> Original DCNS benchmark, Table 6/7 (device config + latencies)
#
# [4] Skarlat, Nardelli, Schulte, Borkowski, Leitner (2017)
#     "Optimized IoT Service Placement in the Fog"
#     SOCA, vol. 11(4), pp. 427-443, 2017
#     -> Cost model for heterogeneous fog nodes
#
# Topology (4-tier hierarchical):
#   Tier 0 (Cloud):       H0                  - datacenter, unlimited
#   Tier 1 (Proxy):       H1, H2              - proxy servers (2 regions)
#   Tier 2 (Gateway):     H3..H10             - area gateways (8 areas)
#   Tier 3 (Camera node): H11..H23            - smart cameras (edge)
#
#   Cloud -- [100ms] -- Proxy1 -- [4ms] -- GW_area1 -- [1ms] -- Camera
#                    \           \-- GW_area2
#                     -- Proxy2 -- [4ms] -- GW_area5
#                               \-- GW_area6
#
# iFogSim Table 6 device configurations (MIPS -> CPU, RAM):
#   Cloud:    44800 MIPS -> 32 CPU, 64GB
#   Proxy:    2800 MIPS  -> 8 CPU, 16GB
#   Gateway:  2800 MIPS  -> 4 CPU, 8GB
#   Camera:   500 MIPS   -> 1 CPU, 1GB (sensor + light compute)
# ============================================================================

hosts.nb = 24

# {CPU, RAM} per node
hosts.configuration = \
{32,64000}, \
{8,16000}, \
{8,16000}, \
{4,8000}, \
{4,8000}, \
{4,8000}, \
{4,8000}, \
{4,8000}, \
{4,8000}, \
{4,8000}, \
{4,8000}, \
{1,1000}, \
{1,1000}, \
{1,1000}, \
{2,2000}, \
{2,2000}, \
{1,1000}, \
{1,1000}, \
{2,2000}, \
{1,1000}, \
{2,2000}, \
{1,1000}, \
{1,1000}, \
{2,2000}

# Cost: cloud=25, proxy=12, gateway=5, camera=1-2
# Based on Skarlat et al. SOCA 2017 proportional cost model
hosts.cost = 25 12 12 5 5 5 5 5 5 5 5 1 1 1 2 2 1 1 2 1 2 1 1 2

# Network topology
# iFogSim Table 7 latencies:
#   Cloud <-> Proxy:      100 ms
#   Proxy <-> Gateway:      4 ms (same region)
#   Proxy <-> Proxy:       20 ms (cross-region)
#   Gateway <-> Camera:     1 ms (direct)
#   Gateway <-> Gateway:    6 ms (same proxy, cross-area)
#   Camera <-> Camera:      2 ms (same gateway)
#
# Bandwidths scaled from iFogSim uplink/downlink:
#   Cloud <-> Proxy:    10000 Mbps
#   Proxy <-> Gateway:   5000 Mbps
#   Proxy <-> Proxy:     5000 Mbps
#   Gateway <-> Camera:  2000 Mbps
#   Gateway <-> Gateway: 2000 Mbps
#   Camera <-> Camera:   1000 Mbps
network.topology = \
{0,1,10000,100}, \
{1,0,10000,100}, \
{0,2,10000,100}, \
{2,0,10000,100}, \
{1,2,5000,20}, \
{2,1,5000,20}, \
{1,3,5000,4}, \
{3,1,5000,4}, \
{1,4,5000,4}, \
{4,1,5000,4}, \
{1,5,5000,4}, \
{5,1,5000,4}, \
{1,6,5000,4}, \
{6,1,5000,4}, \
{2,7,5000,4}, \
{7,2,5000,4}, \
{2,8,5000,4}, \
{8,2,5000,4}, \
{2,9,5000,4}, \
{9,2,5000,4}, \
{2,10,5000,4}, \
{10,2,5000,4}, \
{3,4,2000,6}, \
{4,3,2000,6}, \
{5,6,2000,6}, \
{6,5,2000,6}, \
{7,8,2000,6}, \
{8,7,2000,6}, \
{9,10,2000,6}, \
{10,9,2000,6}, \
{3,11,2000,1}, \
{11,3,2000,1}, \
{3,12,2000,1}, \
{12,3,2000,1}, \
{4,13,2000,1}, \
{13,4,2000,1}, \
{5,14,2000,1}, \
{14,5,2000,1}, \
{5,15,2000,1}, \
{15,5,2000,1}, \
{6,16,2000,1}, \
{16,6,2000,1}, \
{7,17,2000,1}, \
{17,7,2000,1}, \
{7,18,2000,1}, \
{18,7,2000,1}, \
{8,19,2000,1}, \
{19,8,2000,1}, \
{9,20,2000,1}, \
{20,9,2000,1}, \
{9,21,2000,1}, \
{21,9,2000,1}, \
{10,22,2000,1}, \
{22,10,2000,1}, \
{10,23,2000,1}, \
{23,10,2000,1}, \
{11,12,1000,2}, \
{12,11,1000,2}, \
{14,15,1000,2}, \
{15,14,1000,2}, \
{17,18,1000,2}, \
{18,17,1000,2}, \
{20,21,1000,2}, \
{21,20,1000,2}, \
{22,23,1000,2}, \
{23,22,1000,2}, \
{0,0,-1,0}, \
{1,1,-1,0}, \
{2,2,-1,0}, \
{3,3,-1,0}, \
{4,4,-1,0}, \
{5,5,-1,0}, \
{6,6,-1,0}, \
{7,7,-1,0}, \
{8,8,-1,0}, \
{9,9,-1,0}, \
{10,10,-1,0}, \
{11,11,-1,0}, \
{12,12,-1,0}, \
{13,13,-1,0}, \
{14,14,-1,0}, \
{15,15,-1,0}, \
{16,16,-1,0}, \
{17,17,-1,0}, \
{18,18,-1,0}, \
{19,19,-1,0}, \
{20,20,-1,0}, \
{21,21,-1,0}, \
{22,22,-1,0}, \
{23,23,-1,0}

edges.nb = 90

# Diameter: Camera(H11) -> GW(H3) -> Proxy(H1) -> Cloud(H0) -> Proxy(H2) -> GW(H10) -> Camera(H23)
# = 1 + 4 + 100 + 100 + 4 + 1 = 210ms (6 hops)
# But shortest path H11->H23 via proxies = 5 hops
network.diameter = 6
