# ============================================================================
# Fog Infrastructure - 28 nodes, 3-tier Smart City AR/Analytics
#
# Based on: Goudarzi, Shaghaghi, Wang, Buyya
#   "Performance and Security Aware Distributed Service Placement
#    in Fog Computing", arXiv:2601.01125, January 2026
#   Section V-A (Computing Infrastructure Design):
#     Cloud: 4-32 CPU, 16-128GB, 10k-100k MIPS
#     Fog:   2-8 CPU, 4-32GB, 5k-20k MIPS
#     IoT:   1-2 CPU, 1-2GB, 1k-5k MIPS
#   Section V-A (Network Connectivity):
#     Cloud: 100-500 Mbps, Fog: 50-200 Mbps, IoT: 10-50 Mbps
#     Latency: Cloud-Fog 20-80ms, Fog-Fog 2-10ms, Fog-IoT 1-5ms
#
# Also informed by: Natesha, Guddeti
#   "Service Placement in the Computing Continuum for Delay-Sensitive
#    IoT/IIoT Applications", JNSM, July 2025
#   Raspberry Pi fog nodes + AWS cloud prototype
#
# And: Taleb, Caron, Musik
#   "A Survey on Services Placement Algorithms in Integrated
#    Cloud-Fog/Edge Computing", ACM CSUR vol. 57(11), June 2025
#
# Smart City topology (3-tier, 2 districts):
#   Tier 0 (Cloud):      H0, H1         - cloud datacenter (2 zones)
#   Tier 1 (Fog):        H2..H9         - fog nodes (8: 4 per district)
#   Tier 2 (Edge/IoT):   H10..H27       - edge gateways (18)
#
#   District A (downtown): H2-H5 fog, H10-H17 edge
#   District B (suburb):   H6-H9 fog, H18-H27 edge
#   Cross-district fog link via backbone
# ============================================================================

hosts.nb = 28

# {CPU, RAM} per node â€” from Goudarzi et al. 2026 Table config
# Cloud (H0,H1):  16-32 CPU, 64-128GB
# Fog district A (H2-H5):  4-8 CPU, 8-32GB (heterogeneous)
# Fog district B (H6-H9):  2-8 CPU, 4-16GB (more constrained suburb)
# Edge (H10-H27): 1-2 CPU, 1-2GB
hosts.configuration = \
{32,128000}, \
{16,64000}, \
{8,32000}, \
{8,16000}, \
{4,8000}, \
{4,8000}, \
{8,16000}, \
{4,8000}, \
{2,4000}, \
{4,8000}, \
{2,2000}, \
{2,2000}, \
{1,1000}, \
{2,2000}, \
{1,1000}, \
{2,2000}, \
{1,1000}, \
{2,2000}, \
{2,2000}, \
{1,1000}, \
{2,2000}, \
{1,1000}, \
{2,2000}, \
{1,1000}, \
{2,2000}, \
{1,1000}, \
{2,2000}, \
{1,1000}

# Cost model: cloud=20-25, fog=5-10, edge=1-2
# Proportional to resources, from Goudarzi et al. deployment cost
hosts.cost = 25 20 10 8 5 5 8 5 3 5 2 2 1 2 1 2 1 2 2 1 2 1 2 1 2 1 2 1

# Network topology
# Latencies from Goudarzi et al. 2026 Section V-A:
#   Cloud <-> Cloud:      5 ms (same datacenter)
#   Cloud <-> Fog:       40 ms (WAN, downtown) / 60 ms (suburb)
#   Fog <-> Fog:          3 ms (same district) / 15 ms (cross-district)
#   Fog <-> Edge:         2 ms (direct connection)
#   Edge <-> Edge:        3 ms (same fog parent)
#
# Bandwidths from Goudarzi et al.:
#   Cloud <-> Fog:      10000 Mbps
#   Fog <-> Fog:         5000 Mbps
#   Fog <-> Edge:        2000 Mbps
#   Edge <-> Edge:       1000 Mbps
network.topology = \
{0,1,10000,5}, \
{1,0,10000,5}, \
{0,2,10000,40}, \
{2,0,10000,40}, \
{0,3,10000,40}, \
{3,0,10000,40}, \
{0,4,10000,45}, \
{4,0,10000,45}, \
{0,5,10000,45}, \
{5,0,10000,45}, \
{1,6,10000,60}, \
{6,1,10000,60}, \
{1,7,10000,60}, \
{7,1,10000,60}, \
{1,8,10000,65}, \
{8,1,10000,65}, \
{1,9,10000,60}, \
{9,1,10000,60}, \
{2,3,5000,3}, \
{3,2,5000,3}, \
{2,4,5000,4}, \
{4,2,5000,4}, \
{3,5,5000,4}, \
{5,3,5000,4}, \
{4,5,5000,3}, \
{5,4,5000,3}, \
{6,7,5000,3}, \
{7,6,5000,3}, \
{6,8,5000,4}, \
{8,6,5000,4}, \
{7,9,5000,4}, \
{9,7,5000,4}, \
{8,9,5000,3}, \
{9,8,5000,3}, \
{2,6,5000,15}, \
{6,2,5000,15}, \
{3,7,5000,15}, \
{7,3,5000,15}, \
{4,8,5000,18}, \
{8,4,5000,18}, \
{5,9,5000,18}, \
{9,5,5000,18}, \
{2,10,2000,2}, \
{10,2,2000,2}, \
{2,11,2000,2}, \
{11,2,2000,2}, \
{3,12,2000,2}, \
{12,3,2000,2}, \
{3,13,2000,2}, \
{13,3,2000,2}, \
{4,14,2000,2}, \
{14,4,2000,2}, \
{4,15,2000,2}, \
{15,4,2000,2}, \
{5,16,2000,2}, \
{16,5,2000,2}, \
{5,17,2000,2}, \
{17,5,2000,2}, \
{6,18,2000,2}, \
{18,6,2000,2}, \
{6,19,2000,2}, \
{19,6,2000,2}, \
{7,20,2000,2}, \
{20,7,2000,2}, \
{7,21,2000,2}, \
{21,7,2000,2}, \
{8,22,2000,2}, \
{22,8,2000,2}, \
{8,23,2000,2}, \
{23,8,2000,2}, \
{9,24,2000,2}, \
{24,9,2000,2}, \
{9,25,2000,2}, \
{25,9,2000,2}, \
{9,26,2000,2}, \
{26,9,2000,2}, \
{9,27,2000,2}, \
{27,9,2000,2}, \
{10,11,1000,3}, \
{11,10,1000,3}, \
{12,13,1000,3}, \
{13,12,1000,3}, \
{14,15,1000,3}, \
{15,14,1000,3}, \
{16,17,1000,3}, \
{17,16,1000,3}, \
{18,19,1000,3}, \
{19,18,1000,3}, \
{20,21,1000,3}, \
{21,20,1000,3}, \
{22,23,1000,3}, \
{23,22,1000,3}, \
{24,25,1000,3}, \
{25,24,1000,3}, \
{26,27,1000,3}, \
{27,26,1000,3}, \
{0,0,-1,0}, \
{1,1,-1,0}, \
{2,2,-1,0}, \
{3,3,-1,0}, \
{4,4,-1,0}, \
{5,5,-1,0}, \
{6,6,-1,0}, \
{7,7,-1,0}, \
{8,8,-1,0}, \
{9,9,-1,0}, \
{10,10,-1,0}, \
{11,11,-1,0}, \
{12,12,-1,0}, \
{13,13,-1,0}, \
{14,14,-1,0}, \
{15,15,-1,0}, \
{16,16,-1,0}, \
{17,17,-1,0}, \
{18,18,-1,0}, \
{19,19,-1,0}, \
{20,20,-1,0}, \
{21,21,-1,0}, \
{22,22,-1,0}, \
{23,23,-1,0}, \
{24,24,-1,0}, \
{25,25,-1,0}, \
{26,26,-1,0}, \
{27,27,-1,0}

edges.nb = 124

# Diameter: Edge(H17) -> Fog(H5) -> Fog(H9, cross) -> Fog(H8) -> Edge(H23)
# or via cloud: Edge -> Fog -> Cloud -> Fog -> Edge
network.diameter = 6
