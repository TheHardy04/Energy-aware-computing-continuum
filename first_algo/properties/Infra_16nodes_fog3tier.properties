# ============================================================================
# Fog Infrastructure - 16 nodes, 3-tier topology
# Based on: Xia, Etchevers, Letondeur, Coupaye, Desprez
#   "Combining hardware nodes and software components ordering-based
#    heuristics for optimizing the placement of distributed IoT
#    applications in the fog", SAC 2018, pp. 751-760
# Also informed by: Brogi, Forti, "QoS-aware Deployment of IoT
#   Applications Through the Fog", IEEE IoT Journal, 4(5), 2017
# And: Skarlat, Nardelli, Schulte, Dustdar, "Towards QoS-aware Fog
#   Service Placement", IEEE ICFEC 2017, pp. 89-96
#
# Topology: 3-tier hierarchical fog (Cloud - Fog - Edge)
#   Tier 0 (Cloud):  H0, H1           - high capacity, high latency
#   Tier 1 (Fog):    H2..H5           - medium capacity, medium latency
#   Tier 2 (Edge):   H6..H15          - low capacity, low latency
#
# Node capacities follow realistic fog heterogeneity patterns from
# Xia et al. SAC 2018, Table 1 (scaled to abstract units)
# Costs follow the model of Brogi et al. IoT Journal 2017 (proportional
# to capacity with tier premium)
# ============================================================================

# 16 nodes total
hosts.nb = 16

# {CPU, RAM} per node
# Cloud nodes:  high CPU/RAM
# Fog nodes:    medium CPU/RAM
# Edge nodes:   low CPU/RAM (heterogeneous)
hosts.configuration = \
{32,64000}, \
{32,64000}, \
{16,32000}, \
{16,32000}, \
{8,16000}, \
{8,16000}, \
{4,8000}, \
{4,8000}, \
{4,8000}, \
{2,4000}, \
{2,4000}, \
{4,4000}, \
{2,4000}, \
{4,8000}, \
{2,4000}, \
{2,4000}

# Costs: cloud expensive, fog moderate, edge cheap
# Reflects Brogi et al. cost model (per-unit pricing)
hosts.cost = 20 20 10 10 6 6 3 3 3 2 2 3 2 3 2 2

# Network topology (bidirectional links)
# Latencies from Xia et al. SAC 2018 Table 2:
#   Cloud-Cloud:      5ms  (datacenter interconnect)
#   Cloud-Fog:       50ms  (WAN backhaul)
#   Fog-Fog:         10ms  (metro area)
#   Fog-Edge:         5ms  (local network)
#   Edge-Edge:        2ms  (same gateway, when connected)
#
# Bandwidths follow Skarlat et al. ICFEC 2017 patterns:
#   Cloud-Cloud:   10000 Mbps
#   Cloud-Fog:      5000 Mbps
#   Fog-Fog:        2000 Mbps
#   Fog-Edge:       1000 Mbps
#   Edge-Edge:       500 Mbps
network.topology = \
{0,1,10000,5}, \
{1,0,10000,5}, \
{0,2,5000,50}, \
{2,0,5000,50}, \
{0,3,5000,50}, \
{3,0,5000,50}, \
{1,4,5000,50}, \
{4,1,5000,50}, \
{1,5,5000,50}, \
{5,1,5000,50}, \
{2,3,2000,10}, \
{3,2,2000,10}, \
{4,5,2000,10}, \
{5,4,2000,10}, \
{2,6,1000,5}, \
{6,2,1000,5}, \
{2,7,1000,5}, \
{7,2,1000,5}, \
{3,8,1000,5}, \
{8,3,1000,5}, \
{3,9,1000,5}, \
{9,3,1000,5}, \
{3,10,1000,5}, \
{10,3,1000,5}, \
{4,11,1000,5}, \
{11,4,1000,5}, \
{4,12,1000,5}, \
{12,4,1000,5}, \
{5,13,1000,5}, \
{13,5,1000,5}, \
{5,14,1000,5}, \
{14,5,1000,5}, \
{5,15,1000,5}, \
{15,5,1000,5}, \
{6,7,500,2}, \
{7,6,500,2}, \
{8,9,500,2}, \
{9,8,500,2}, \
{11,12,500,2}, \
{12,11,500,2}, \
{14,15,500,2}, \
{15,14,500,2}, \
{0,0,-1,0}, \
{1,1,-1,0}, \
{2,2,-1,0}, \
{3,3,-1,0}, \
{4,4,-1,0}, \
{5,5,-1,0}, \
{6,6,-1,0}, \
{7,7,-1,0}, \
{8,8,-1,0}, \
{9,9,-1,0}, \
{10,10,-1,0}, \
{11,11,-1,0}, \
{12,12,-1,0}, \
{13,13,-1,0}, \
{14,14,-1,0}, \
{15,15,-1,0}

edges.nb = 58

# Diameter = longest shortest path in the graph
# Cloud(0)-Fog(2)-Edge(6) to Cloud(1)-Fog(5)-Edge(15) = 5 hops
# But some edge-to-edge paths cross cloud: up to 7 hops
network.diameter = 7
